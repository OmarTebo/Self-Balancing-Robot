[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200

# Unity test framework is built-in to PlatformIO
test_framework = unity

# Include source files from parent directory, but exclude main.cpp
# build_src_filter patterns are relative to the src directory
test_build_src = yes
build_src_filter = 
  +<**/*.cpp>
  +<**/*.c>
  -<main.cpp>
  -<**/main.cpp>

# Build flags
build_flags = 
  -DCORE_DEBUG_LEVEL=0
  -DTEST_MODE_ENABLED=true
  -I../include
  -I../lib/MPU6050
  -I../src

# Source files from parent (will be included automatically with test_build_src)
# But we need to specify lib_deps that match parent
lib_deps =
  majicdesigns/MD_MAX72XX@^3.4.0

